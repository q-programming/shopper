<div fxLayout="row">
    <div>
        <h2 class="text-white">
            {{'app.shopping.list'|translate}}
        </h2>
    </div>
    <div class="fill-remaining-space"></div>
    <div>
        <button mat-icon-button class="mt-3 mr-1 " (click)="openDialog()">
            <img src="assets/images/plus.png" class="add-list-icon">
        </button>
    </div>
</div>
<div>
    <mat-card fxLayout.xs="column" *ngFor="let list of lists" class="list z-depth clickable">
        <mat-card-header>
            <mat-card-title>{{list.name}}</mat-card-title>
            <mat-card-subtitle *ngIf="list.ownerId !== account.id">
                <img class="avatar small" [src]="list.ownerAvatar">
                {{list.ownerName}}
            </mat-card-subtitle>
            <span class="fill-remaining-space" [routerLink]="['list', list.id]"></span>
            <span class="list-count">{{list.done}}/{{list.items.length}}</span>
            <button mat-icon-button [matMenuTriggerFor]="menu">
                <mat-icon>more_vert</mat-icon>
            </button>
            <mat-menu #menu="matMenu">
                <button mat-menu-item>
                    <mat-icon>edit</mat-icon>
                    <span>{{'app.general.edit'|translate}}</span>
                </button>
                <button *ngIf="!list.notOwner" mat-menu-item>
                    <mat-icon>share</mat-icon>
                    <span>{{'app.shopping.share'|translate}}</span>
                </button>
                <button mat-menu-item>
                    <mat-icon>archive</mat-icon>
                    <span>{{'app.shopping.archive'|translate}}</span>
                </button>
            </mat-menu>
        </mat-card-header>
        <mat-card-content class="pb-1" *ngIf="list.items.length>0">
            <mat-progress-bar mode="determinate" value="{{(list.done/list.items.length)*100}}"></mat-progress-bar>
        </mat-card-content>
    </mat-card>
</div>
